/* ===================================================================
   ACCESIBILIDAD - Estilos para mejorar la accesibilidad
   Archivo: _accessibility.css
   Versión: 1.0.0
   Fecha: 2025-09-18
   
   Este archivo contiene estilos para mejorar la accesibilidad de la aplicación.
   Sigue las directrices WCAG 2.1 Nivel AA como mínimo.
=================================================================== */

/* ===== 1. ELEMENTOS DE ENFOQUE ===== */

/* Estilo para el foco del teclado */
:focus-visible {
  outline: 2px solid var(--color-primary-500);
  outline-offset: 2px;
  box-shadow: 0 0 0 4px rgba(14, 165, 233, 0.3);
}

/* Ocultar outline solo para usuarios de mouse, mantener para teclado */
:focus:not(:focus-visible) {
  outline: none;
}

/* ===== 2. ELEMENTOS OCULTOS VISUALMENTE ===== */

/* Oculto visualmente pero accesible para lectores de pantalla */
.sr-only,
.visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Hacer visible el contenido cuando recibe foco */
.sr-only-focusable:not(:focus):not(:focus-within) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* ===== 3. CONTRASTE Y LEGIBILIDAD ===== */

/* Clase para forzar contraste en modo alto contraste */
.high-contrast {
  --text-color: var(--color-gray-900);
  --bg-color: var(--color-white);
  --border-color: var(--color-gray-900);
  
  color: var(--text-color) !important;
  background-color: var(--bg-color) !important;
  border-color: var(--border-color) !important;
}

/* Estilos para enlaces en modo alto contraste */
.high-contrast a {
  text-decoration: underline !important;
  color: var(--color-primary-700) !important;
}

/* ===== 4. ANUNCIOS DE LECTOR DE PANTALLA ===== */

/* Clase para anuncios de lector de pantalla */
.screen-reader-announce {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* ===== 5. ESTADOS ARIA ===== */

/* Estilos para estados ARIA */
[aria-hidden="true"] {
  display: none;
}

[aria-busy="true"] {
  cursor: progress;
}

[aria-disabled="true"],
:disabled {
  cursor: not-allowed;
  opacity: 0.6;
  pointer-events: none;
}

/* ===== 6. MEDIA QUERIES DE ACCESIBILIDAD ===== */

/* Preferencia de movimiento reducido */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Modo de alto contraste */
@media (prefers-contrast: high) {
  :root {
    --border-light: var(--color-gray-900);
    --border-medium: var(--color-gray-900);
    --border-dark: var(--color-gray-900);
  }
  
  /* Mejorar contraste de texto */
  body {
    text-shadow: 0 0 0.5px currentColor;
  }
  
  /* Mejorar contraste de enlaces */
  a:not([class]) {
    text-decoration: underline;
  }
}

/* ===== 7. IMPRESIÓN ===== */

@media print {
  /* Ocultar elementos no necesarios en impresión */
  .no-print,
  .header,
  .sidebar,
  .footer,
  button,
  .btn,
  .actions {
    display: none !important;
  }
  
  /* Asegurar que el contenido ocupe todo el ancho */
  .container {
    width: 100%;
    max-width: 100%;
    padding: 0;
  }
  
  /* Mejorar la legibilidad del texto */
  body {
    font-size: 12pt;
    line-height: 1.3;
    color: #000;
    background: #fff;
  }
  
  /* Evitar saltos de página dentro de elementos */
  .no-break {
    page-break-inside: avoid;
  }
  
  /* Mejorar la legibilidad de los enlaces */
  a {
    color: #000;
    text-decoration: underline;
  }
  
  /* Mostar URLs de los enlaces */
  a[href^='http']:not([href*='mysite.com'])::after {
    content: ' (' attr(href) ')';
    font-size: 90%;
    font-weight: normal;
  }
}
