<!-- Sidebar Component -->
<div class="sidebar">
    <!-- Sidebar Header -->
    <div class="sidebar__header">
        <a href="{{ url_for('main.index') }}" class="logo">
            <img src="{{ url_for('static', filename='images/pacta_logo.png') }}" alt="PACTA" class="logo-image">
        </a>
    </div>

    <!-- Sidebar Content -->
    <div class="sidebar__content">
        <ul class="sidebar-nav">
            <li class="sidebar-nav__item">
                <a href="{{ url_for('main.dashboard') }}" class="sidebar-nav__link sidebar-nav__link--active">
                    <i class="fas fa-tachometer-alt sidebar-nav__icon"></i>
                    <span class="sidebar-nav__text">Dashboard</span>
                </a>
            </li>

            <li class="sidebar-nav__item">
                <a href="{{ url_for('contratos.listar') }}" class="sidebar-nav__link">
                    <i class="fas fa-file-contract sidebar-nav__icon"></i>
                    <span class="sidebar-nav__text">Contratos</span>
                </a>
            </li>

            <li class="sidebar-nav__item">
                <a href="{{ url_for('main.suplementos') }}" class="sidebar-nav__link">
                    <i class="fas fa-file-signature sidebar-nav__icon"></i>
                    <span class="sidebar-nav__text">Suplementos</span>
                </a>
            </li>

            <li class="sidebar-nav__item">
                <a href="{{ url_for('main.reportes') }}" class="sidebar-nav__link">
                    <i class="fas fa-chart-bar sidebar-nav__icon"></i>
                    <span class="sidebar-nav__text">Reportes</span>
                </a>
            </li>
            
            <li class="sidebar-nav__item">
                <a href="{{ url_for('users.usuario') }}" class="sidebar-nav__link">
                    <i class="fas fa-user sidebar-nav__icon"></i>
                    <span class="sidebar-nav__text">Mi Perfil</span>
                </a>
            </li>
            
            <li class="sidebar-nav__item">
                <a href="{{ url_for('main.configuracion') }}" class="sidebar-nav__link">
                    <i class="fas fa-cog sidebar-nav__icon"></i>
                    <span class="sidebar-nav__text">Configuración</span>
                </a>
            </li>
        </ul>
    </div>

    <!-- Sidebar Footer -->
    <div class="sidebar__footer">
        <div class="user-profile">
            <div class="user-avatar avatar-generated">
                {% set nombre_parts = (usuario.nombre or 'Usuario').split() %}
                {{ nombre_parts[0][0] if nombre_parts else 'U' }}
                {% if nombre_parts|length > 1 %}
                    {{ nombre_parts[1][0] }}
                {% elif nombre_parts and nombre_parts[0]|length > 1 %}
                    {{ nombre_parts[0][1] }}
                {% endif %}
            </div>
            <div class="user-info">
                <div class="user-name">{{ usuario.nombre or 'Usuario' }}</div>
                <div class="user-title">{{ 'Administrador' if usuario.es_admin else 'Usuario' }}</div>
                <div style="display: flex; gap: 8px; margin-top: 8px;">
                    <a href="{{ url_for('users.usuario') }}" class="btn btn-primary flex-fill text-decoration-none">Perfil</a>
                    <a href="{{ url_for('auth.logout') }}" class="btn btn-danger flex-fill text-decoration-none" title="Cerrar Sesión">
                        <i class="fas fa-sign-out-alt"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Las funciones del sidebar se cargan desde sidebar_functions.js -->
<script src="{{ url_for('static', filename='js/sidebar_functions.js') }}"></script>