<!-- Sidebar Component -->
<div class="sidebar">
    <!-- Sidebar Header -->
    <div class="sidebar-header">
        <a href="{{ url_for('main.index') }}" class="logo" style="text-decoration: none; color: inherit; cursor: pointer;">
            <div class="logo-icon">
                <i class="fas fa-file-contract"></i>
            </div>
            <div class="logo-text">PACTA</div>
        </a>
    </div>

    <!-- Sidebar Navigation -->
    <nav class="sidebar-nav">
        <ul class="nav-list">
            <li class="nav-item active">
                <a href="{{ url_for('main.dashboard') }}" class="nav-link">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </a>
            </li>

            <li class="nav-item">
                <a href="{{ url_for('contratos.listar') }}" class="nav-link">
                    <i class="fas fa-file-contract"></i>
                    <span>Contratos</span>
                </a>
            </li>

            <li class="nav-item">
                <a href="{{ url_for('main.suplementos') }}" class="nav-link">
                    <i class="fas fa-file-signature"></i>
                    <span>Suplementos</span>
                </a>
            </li>

            <li class="nav-item">
                <a href="{{ url_for('main.reportes') }}" class="nav-link">
                    <i class="fas fa-chart-bar"></i>
                    <span>Reportes</span>
                </a>
            </li>
            
            <li class="nav-item">
                <a href="{{ url_for('users.usuario') }}" class="nav-link">
                    <i class="fas fa-user"></i>
                    <span>Mi Perfil</span>
                </a>
            </li>
            
            <li class="nav-item">
                <a href="{{ url_for('main.configuracion') }}" class="nav-link">
                    <i class="fas fa-cog"></i>
                    <span>Configuración</span>
                </a>
            </li>

        </ul>
    </nav>

    <!-- Sidebar Footer -->
    <div class="sidebar-footer">
        <div class="user-profile">
            <div class="user-avatar avatar-generated">{{ (usuario.nombre or 'Usuario').split()[0][0] }}{{ (usuario.nombre or 'Usuario').split()[1][0] if (usuario.nombre or 'Usuario').split()|length > 1 else (usuario.nombre or 'Usuario').split()[0][1] if (usuario.nombre or 'Usuario').split()[0]|length > 1 else '' }}</div>
            <div class="user-info">
                <div class="user-name">{{ usuario.nombre or 'Usuario' }}</div>
                <div class="user-title">{{ 'Administrador' if usuario.es_admin else 'Usuario' }}</div>
                <div style="display: flex; gap: 8px; margin-top: 8px;">
                    <a href="{{ url_for('users.usuario') }}" class="btn-account" style="text-decoration: none; flex: 1;">Perfil</a>
                    <a href="{{ url_for('auth.logout') }}" class="btn-account logout-btn" style="text-decoration: none; flex: 1;" title="Cerrar Sesión">
                        <i class="fas fa-sign-out-alt"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Las funciones del sidebar se cargan desde sidebar_functions.js -->
<script src="{{ url_for('static', filename='js/sidebar_functions.js') }}"></script>