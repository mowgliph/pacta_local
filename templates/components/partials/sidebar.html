<!-- Sidebar Component -->
<div class="sidebar">
    <!-- Sidebar Header -->
    <div class="sidebar-header">
        <a href="{{ url_for('main.index') }}" class="logo" style="text-decoration: none; color: inherit; cursor: pointer;">
            <img src="{{ url_for('static', filename='images/pacta_logo.png') }}" alt="PACTA" class="logo-image">
        </a>
    </div>

    <!-- Sidebar Navigation -->
    <nav class="sidebar-nav">
        <ul class="nav-list">
            <li class="nav-item active">
                <a href="{{ url_for('main.dashboard') }}" class="nav-link">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </a>
            </li>

            <li class="nav-item">
                <a href="{{ url_for('contratos.listar') }}" class="nav-link">
                    <i class="fas fa-file-contract"></i>
                    <span>Contratos</span>
                </a>
            </li>

            <li class="nav-item">
                <a href="{{ url_for('main.suplementos') }}" class="nav-link">
                    <i class="fas fa-file-signature"></i>
                    <span>Suplementos</span>
                </a>
            </li>

            <li class="nav-item">
                <a href="{{ url_for('main.reportes') }}" class="nav-link">
                    <i class="fas fa-chart-bar"></i>
                    <span>Reportes</span>
                </a>
            </li>
            
            <li class="nav-item">
                <a href="{{ url_for('users.usuario') }}" class="nav-link">
                    <i class="fas fa-user"></i>
                    <span>Mi Perfil</span>
                </a>
            </li>
            
            <li class="nav-item">
                <a href="{{ url_for('main.configuracion') }}" class="nav-link">
                    <i class="fas fa-cog"></i>
                    <span>Configuración</span>
                </a>
            </li>

        </ul>
    </nav>

    <!-- Sidebar Footer -->
    <div class="sidebar-footer">
        <div class="user-profile">
            <div class="user-avatar avatar-generated">
                {% set nombre_parts = (usuario.nombre or 'Usuario').split() %}
                {{ nombre_parts[0][0] if nombre_parts else 'U' }}
                {% if nombre_parts|length > 1 %}
                    {{ nombre_parts[1][0] }}
                {% elif nombre_parts and nombre_parts[0]|length > 1 %}
                    {{ nombre_parts[0][1] }}
                {% endif %}
            </div>
            <div class="user-info">
                <div class="user-name">{{ usuario.nombre or 'Usuario' }}</div>
                <div class="user-title">{{ 'Administrador' if usuario.es_admin else 'Usuario' }}</div>
                <div style="display: flex; gap: 8px; margin-top: 8px;">
                    <a href="{{ url_for('users.usuario') }}" class="btn btn-primary flex-fill text-decoration-none">Perfil</a>
                    <a href="{{ url_for('auth.logout') }}" class="btn btn-danger flex-fill text-decoration-none" title="Cerrar Sesión">
                        <i class="fas fa-sign-out-alt"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Las funciones del sidebar se cargan desde sidebar_functions.js -->
<script src="{{ url_for('static', filename='js/sidebar_functions.js') }}"></script>