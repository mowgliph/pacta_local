<!-- Sidebar Component -->
<div class="sidebar">
    <!-- Sidebar Header -->
    <div class="sidebar-header">
        <a href="{{ url_for('index') }}" class="logo" style="text-decoration: none; color: inherit; cursor: pointer;">
            <div class="logo-icon">
                <i class="fas fa-file-contract"></i>
            </div>
            <div class="logo-text">PACTA</div>
        </a>
    </div>

    <!-- Sidebar Navigation -->
    <nav class="sidebar-nav">
        <ul class="nav-list">
            <li class="nav-item active">
                <a href="{{ url_for('dashboard') }}" class="nav-link">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </a>
            </li>

            <li class="nav-item">
                <a href="{{ url_for('contratos') }}" class="nav-link">
                    <i class="fas fa-file-contract"></i>
                    <span>Contratos</span>
                </a>
            </li>

            <li class="nav-item">
                <a href="{{ url_for('suplementos') }}" class="nav-link">
                    <i class="fas fa-file-signature"></i>
                    <span>Suplementos</span>
                </a>
            </li>

            <li class="nav-item">
                <a href="{{ url_for('reportes') }}" class="nav-link">
                    <i class="fas fa-chart-bar"></i>
                    <span>Reportes</span>
                </a>
            </li>
            
            <li class="nav-item">
                <a href="{{ url_for('usuario') }}" class="nav-link">
                    <i class="fas fa-user"></i>
                    <span>Mi Perfil</span>
                </a>
            </li>
            
            <li class="nav-item">
                <a href="{{ url_for('configuracion') }}" class="nav-link">
                    <i class="fas fa-cog"></i>
                    <span>Configuración</span>
                </a>
            </li>

        </ul>
    </nav>

    <!-- Sidebar Footer -->
    <div class="sidebar-footer">
        <div class="user-profile">
            <img src="https://via.placeholder.com/40x40/667eea/ffffff?text=U" alt="Usuario" class="user-avatar">
            <div class="user-info">
                <div class="user-name">Usuario</div>
                <div class="user-title">Administrador</div>
                <a href="{{ url_for('usuario') }}" class="btn-account" style="text-decoration: none; color: inherit;">Mi Cuenta</a>
            </div>
        </div>
    </div>
</div>

<script>
// Función para manejar la navegación activa en el sidebar
document.addEventListener('DOMContentLoaded', function() {
    const navItems = document.querySelectorAll('.nav-item');
    const currentPath = window.location.pathname;
    
    // Remover clase active de todos los elementos
    navItems.forEach(item => {
        item.classList.remove('active');
    });
    
    // Añadir clase active al elemento correspondiente basado en la URL actual
    navItems.forEach(item => {
        const link = item.querySelector('.nav-link');
        if (link) {
            const href = link.getAttribute('href');
            
            // Verificar si la URL actual coincide con el href del enlace
            if (currentPath === href || 
                (currentPath === '/' && href.includes('dashboard')) ||
                (currentPath.includes('contratos') && href.includes('contratos')) ||
                (currentPath.includes('suplementos') && href.includes('suplementos')) ||
                (currentPath.includes('reportes') && href.includes('reportes')) ||
                (currentPath.includes('usuario') && href.includes('usuario')) ||
                (currentPath.includes('configuracion') && href.includes('configuracion'))) {
                item.classList.add('active');
            }
        }
    });
    
    // Añadir event listeners para clicks en los enlaces
    navItems.forEach(item => {
        const link = item.querySelector('.nav-link');
        if (link) {
            link.addEventListener('click', function(e) {
                // Remover active de todos los elementos
                navItems.forEach(navItem => {
                    navItem.classList.remove('active');
                });
                
                // Añadir active al elemento clickeado
                item.classList.add('active');
            });
        }
    });
});
</script>